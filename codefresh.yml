version: "1.0"
steps:
    build-step:
      type: build
      dockerfile: Dockerfile
      image-name: codefreshio/cf-cli
      tag: latest

    unit-test-step:
        image: ${{build-step}}
        commands:
          - ls -l
#          - npm install gulp
          - npm install -g gulp
          - gulp lint
          - gulp unit_test

    push-to-dockerhub:
        type: push
        candidate: ${{build-step}}
        tag: latest